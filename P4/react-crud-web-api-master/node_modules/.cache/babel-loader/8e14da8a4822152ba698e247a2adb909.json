{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\cs137-team11\\\\react-crud-web-api-master\\\\src\\\\components\\\\phone.component.js\";\nimport React, { Component } from \"react\";\nimport PhoneDataService from \"../services/phone.service\";\nimport \"./phones-list.component.css\";\nexport default class Phone extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeModel = this.onChangeModel.bind(this);\n    this.onChangeColor = this.onChangeColor.bind(this);\n    this.onChangeMemory = this.onChangeMemory.bind(this);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onChangeImageUrl = this.onChangeImageUrl.bind(this);\n    this.onChangeNumUnits = this.onChangeNumUnits.bind(this);\n    this.getPhone = this.getPhone.bind(this); //this.updatePublished = this.updatePublished.bind(this);\n    //this.updatePhone = this.updatePhone.bind(this);\n\n    this.deletePhone = this.deletePhone.bind(this);\n    this.handleValidation = this.handleValidation.bind(this);\n    this.state = {\n      currentPhone: {\n        id: null,\n        model: \"\",\n        color: \"\",\n        memory: \"\",\n        price: null,\n        description: \"\",\n        category: \"\",\n        image_url: \"\",\n        numUnits: null //published: false\n\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getPhone(this.props.match.params.id);\n  }\n\n  onChangeModel(e) {\n    const model = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentPhone: { ...prevState.currentPhone,\n          model: model\n        }\n      };\n    });\n  }\n\n  onChangeColor(e) {\n    const color = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentPhone: { ...prevState.currentPhone,\n          color: color\n        }\n      };\n    });\n  }\n\n  onChangeMemory(e) {\n    const memory = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentPhone: { ...prevState.currentPhone,\n          memory: memory\n        }\n      };\n    });\n  }\n\n  onChangePrice(e) {\n    const price = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentPhone: { ...prevState.currentPhone,\n          price: price\n        }\n      };\n    });\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n    this.setState(prevState => ({\n      currentPhone: { ...prevState.currentPhone,\n        description: description\n      }\n    }));\n  }\n\n  onChangeCategory(e) {\n    const category = e.target.value;\n    this.setState(prevState => ({\n      currentPhone: { ...prevState.currentPhone,\n        category: category\n      }\n    }));\n  }\n\n  onChangeImageUrl(e) {\n    const image_url = e.target.value;\n    this.setState(prevState => ({\n      currentPhone: { ...prevState.currentPhone,\n        image_url: image_url\n      }\n    }));\n  }\n\n  onChangeNumUnits(e) {\n    const numUnits = e.target.value;\n    this.setState(prevState => ({\n      currentPhone: { ...prevState.currentPhone,\n        numUnits: numUnits\n      }\n    }));\n  }\n\n  getPhone(id) {\n    PhoneDataService.get(id).then(response => {\n      this.setState({\n        currentPhone: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n  /*\n  updatePublished(status) {\n    var data = {\n      id: this.state.currentPhone.id,\n      title: this.state.currentPhone.title,\n      description: this.state.currentPhone.description,\n      published: status\n    };\n     PhoneDataService.update(this.state.currentPhone.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          currentPhone: {\n            ...prevState.currentPhone,\n            published: status\n          }\n        }));\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n  */\n\n  /*\n  updatePhone() {\n    PhoneDataService.update(\n      this.state.currentPhone.id,\n      this.state.currentPhone\n    )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          message: \"The phone was updated successfully!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n  */\n\n\n  handleValidation() {\n    const {\n      currentPhone\n    } = this.state; // only each block with generate error\n\n    if (!currentPhone.model) {\n      this.setState({\n        error: 'Model can not be empty!'\n      });\n    } else if (!currentPhone.color) {\n      this.setState({\n        error: 'Color can not be empty!'\n      });\n    } else if (!currentPhone.memory || isNaN(currentPhone.memory)) {\n      this.setState({\n        error: 'Memory is not valid!'\n      });\n    } else if (!currentPhone.price || isNaN(currentPhone.price)) {\n      this.setState({\n        error: 'Price is not valid!'\n      });\n    } else if (!currentPhone.description) {\n      this.setState({\n        error: 'Description can not be empty!'\n      });\n    } else if (!currentPhone.category) {\n      this.setState({\n        error: 'Category can not be empty!'\n      });\n    } else if (!currentPhone.image_url) {\n      this.setState({\n        error: 'Image url can not be empty!'\n      });\n    } else if (!currentPhone.numUnits || isNaN(currentPhone.numUnits)) {\n      this.setState({\n        error: 'Number of units is not valid!'\n      });\n    } else {\n      this.setState({\n        error: \"\"\n      });\n      PhoneDataService.update(this.state.currentPhone.id, this.state.currentPhone).then(response => {\n        console.log(response.data);\n        this.setState({\n          message: \"The phone was updated successfully!\"\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  }\n\n  deletePhone() {\n    PhoneDataService.delete(this.state.currentPhone.id).then(response => {\n      console.log(response.data);\n      this.props.history.push('/phones');\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const {\n      currentPhone\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, currentPhone ? React.createElement(\"div\", {\n      id: \"border-box\",\n      className: \"edit-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Model\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"model\",\n      value: currentPhone.model,\n      onChange: this.onChangeModel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Color\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"color\",\n      value: currentPhone.color,\n      onChange: this.onChangeColor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"memory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Memory\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"memory\",\n      value: currentPhone.memory,\n      onChange: this.onChangeMemory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"price\",\n      value: currentPhone.price,\n      onChange: this.onChangePrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"description\",\n      value: currentPhone.description,\n      onChange: this.onChangeDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"category\",\n      value: currentPhone.category,\n      onChange: this.onChangeCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"image_url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Image Url\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"image_url\",\n      value: currentPhone.image_url,\n      onChange: this.onChangeImageUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"numUnits\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"Number of units available\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"numUnits\",\n      value: currentPhone.numUnits,\n      onChange: this.onChangeNumUnits,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"badge badge-danger mr-2\",\n      onClick: this.deletePhone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"badge badge-success\",\n      onClick: this.handleValidation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"Update\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }), this.state.error !== '' ? React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, this.state.error) : '', React.createElement(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, this.state.message)) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Please click on a Phone...\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/cs137-team11/react-crud-web-api-master/src/components/phone.component.js"],"names":["React","Component","PhoneDataService","Phone","constructor","props","onChangeModel","bind","onChangeColor","onChangeMemory","onChangePrice","onChangeDescription","onChangeCategory","onChangeImageUrl","onChangeNumUnits","getPhone","deletePhone","handleValidation","state","currentPhone","id","model","color","memory","price","description","category","image_url","numUnits","message","componentDidMount","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","error","isNaN","update","delete","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PhoneDataService from \"../services/phone.service\";\nimport \"./phones-list.component.css\"\n\nexport default class Phone extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeModel = this.onChangeModel.bind(this);\n    this.onChangeColor = this.onChangeColor.bind(this);\n    this.onChangeMemory = this.onChangeMemory.bind(this);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onChangeImageUrl = this.onChangeImageUrl.bind(this);\n    this.onChangeNumUnits = this.onChangeNumUnits.bind(this);\n    this.getPhone = this.getPhone.bind(this);\n    //this.updatePublished = this.updatePublished.bind(this);\n    //this.updatePhone = this.updatePhone.bind(this);\n    this.deletePhone = this.deletePhone.bind(this);\n    this.handleValidation = this.handleValidation.bind(this);\n\n    this.state = {\n      currentPhone: {\n        id: null,\n        model: \"\",\n        color: \"\",\n        memory: \"\",\n        price: null,\n        description: \"\",\n        category: \"\",\n        image_url: \"\",\n        numUnits: null,\n        //published: false\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getPhone(this.props.match.params.id);\n  }\n\n  onChangeModel(e) {\n    const model = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentPhone: {\n          ...prevState.currentPhone,\n          model: model\n        }\n      };\n    });\n  }\n\n  onChangeColor(e) {\n    const color = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentPhone: {\n          ...prevState.currentPhone,\n          color: color\n        }\n      };\n    });\n  }\n\n  onChangeMemory(e) {\n    const memory = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentPhone: {\n          ...prevState.currentPhone,\n          memory: memory\n        }\n      };\n    });\n  }\n\n  onChangePrice(e) {\n    const price = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentPhone: {\n          ...prevState.currentPhone,\n          price: price\n        }\n      };\n    });\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n\n    this.setState(prevState => ({\n      currentPhone: {\n        ...prevState.currentPhone,\n        description: description\n      }\n    }));\n  }\n\n  onChangeCategory(e) {\n    const category = e.target.value;\n\n    this.setState(prevState => ({\n      currentPhone: {\n        ...prevState.currentPhone,\n        category: category\n      }\n    }));\n  }\n\n  onChangeImageUrl(e) {\n    const image_url = e.target.value;\n\n    this.setState(prevState => ({\n      currentPhone: {\n        ...prevState.currentPhone,\n        image_url: image_url\n      }\n    }));\n  }\n\n  onChangeNumUnits(e) {\n    const numUnits = e.target.value;\n\n    this.setState(prevState => ({\n      currentPhone: {\n        ...prevState.currentPhone,\n        numUnits: numUnits\n      }\n    }));\n  }\n\n  getPhone(id) {\n    PhoneDataService.get(id)\n      .then(response => {\n        this.setState({\n          currentPhone: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  /*\n  updatePublished(status) {\n    var data = {\n      id: this.state.currentPhone.id,\n      title: this.state.currentPhone.title,\n      description: this.state.currentPhone.description,\n      published: status\n    };\n\n    PhoneDataService.update(this.state.currentPhone.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          currentPhone: {\n            ...prevState.currentPhone,\n            published: status\n          }\n        }));\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n*/\n\n  /*\n  updatePhone() {\n    PhoneDataService.update(\n      this.state.currentPhone.id,\n      this.state.currentPhone\n    )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          message: \"The phone was updated successfully!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n  */\n\n  handleValidation () {\n    const { currentPhone } = this.state;\n    // only each block with generate error\n    if (!currentPhone.model) {\n      this.setState({ error: 'Model can not be empty!' });\n    } else if (!currentPhone.color) {\n      this.setState({ error: 'Color can not be empty!' });\n    } else if (!currentPhone.memory || isNaN(currentPhone.memory)) {\n      this.setState({ error: 'Memory is not valid!' });\n    }else if (!currentPhone.price || isNaN(currentPhone.price)) {\n      this.setState({ error: 'Price is not valid!' });\n    } else if (!currentPhone.description) {\n      this.setState({ error: 'Description can not be empty!' });\n    }else if (!currentPhone.category) {\n      this.setState({ error: 'Category can not be empty!' });\n    }else if (!currentPhone.image_url) {\n      this.setState({ error: 'Image url can not be empty!' });\n    }else if (!currentPhone.numUnits || isNaN(currentPhone.numUnits)) {\n      this.setState({ error: 'Number of units is not valid!' });\n    } else {\n      this.setState({error: \"\"})\n\n      PhoneDataService.update(\n          this.state.currentPhone.id,\n          this.state.currentPhone\n      )\n          .then(response => {\n            console.log(response.data);\n            this.setState({\n              message: \"The phone was updated successfully!\"\n            });\n          })\n          .catch(e => {\n            console.log(e);\n          });\n    }\n  }\n\n  deletePhone() {\n    PhoneDataService.delete(this.state.currentPhone.id)\n      .then(response => {\n        console.log(response.data);\n        this.props.history.push('/phones')\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { currentPhone } = this.state;\n\n    return (\n      <div>\n        {currentPhone ? (\n          <div id=\"border-box\" className=\"edit-form\">\n            <h4>Phone</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"model\">Model</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"model\"\n                  value={currentPhone.model}\n                  onChange={this.onChangeModel}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"color\">Color</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"color\"\n                    value={currentPhone.color}\n                    onChange={this.onChangeColor}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"memory\">Memory</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"memory\"\n                    value={currentPhone.memory}\n                    onChange={this.onChangeMemory}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"price\">Price</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"price\"\n                    value={currentPhone.price}\n                    onChange={this.onChangePrice}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={currentPhone.description}\n                  onChange={this.onChangeDescription}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category\">Category</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"category\"\n                    value={currentPhone.category}\n                    onChange={this.onChangeCategory}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"image_url\">Image Url</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"image_url\"\n                    value={currentPhone.image_url}\n                    onChange={this.onChangeImageUrl}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"numUnits\">Number of units available</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"numUnits\"\n                    value={currentPhone.numUnits}\n                    onChange={this.onChangeNumUnits}\n                />\n              </div>\n\n            </form>\n\n            <button\n              className=\"badge badge-danger mr-2\"\n              onClick={this.deletePhone}\n            >\n              Delete\n            </button>\n\n            <button\n              type=\"submit\"\n              className=\"badge badge-success\"\n              onClick={this.handleValidation}\n            >\n              Update\n            </button>\n            <br></br>\n            {(this.state.error !== '')\n                ? <span style={{color: \"red\"}}>{this.state.error}</span>\n                : ''\n            }\n            <p style={{color: \"red\"}}>{this.state.message}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a Phone...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}